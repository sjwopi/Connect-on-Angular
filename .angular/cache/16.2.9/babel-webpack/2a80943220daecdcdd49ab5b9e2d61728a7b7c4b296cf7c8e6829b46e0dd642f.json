{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/products.service\";\nimport * as i2 from \"../../services/modal.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../components/modal/modal.component\";\nimport * as i6 from \"../../components/create-product/create-product.component\";\nimport * as i7 from \"../../pipes/filter-products.pipe\";\nfunction ProductPageComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductPageComponent_div_5_app_product_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product\", 8);\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r4);\n  }\n}\nfunction ProductPageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductPageComponent_div_5_app_product_1_Template, 1, 1, \"app-product\", 7);\n    i0.ɵɵpipe(2, \"filterProducts\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, ctx_r1.productsService.products, ctx_r1.term));\n  }\n}\nfunction ProductPageComponent_app_modal_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-modal\", 9);\n    i0.ɵɵelement(1, \"app-create-product\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ProductPageComponent {\n  constructor(productsService, modalService) {\n    this.productsService = productsService;\n    this.modalService = modalService;\n    this.title = 'angular app';\n    // products: IProduct[] = []\n    this.loading = false;\n    // products$: Observable<IProduct[]>\n    this.term = '';\n  }\n  ngOnInit() {\n    this.loading = true;\n    // this.products$ = this.productsService.getAll().pipe(\n    //   tap(() => this.loading = false)\n    // )\n    this.productsService.getAll().subscribe(() => {\n      this.loading = false;\n    });\n  }\n  static #_ = this.ɵfac = function ProductPageComponent_Factory(t) {\n    return new (t || ProductPageComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.ModalService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductPageComponent,\n    selectors: [[\"app-product-page\"]],\n    decls: 10,\n    vars: 9,\n    consts: [[1, \"font-bold\", \"mb-2\", \"text-center\", \"text-lg\"], [\"type\", \"text\", \"placeholder\", \"Filter products...\", 1, \"mb-2\", \"border\", \"py-2\", \"px-4\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"text-center text-lg\", 4, \"ngIf\"], [4, \"ngIf\"], [\"title\", \"Create new Product\", 4, \"ngIf\"], [1, \"rounded-full\", \"bg-red-700\", \"text-white\", \"fixed\", \"right-5\", \"bottom-5\", \"py-2\", \"px-4\", 3, \"click\"], [1, \"text-center\", \"text-lg\"], [3, \"product\", 4, \"ngFor\", \"ngForOf\"], [3, \"product\"], [\"title\", \"Create new Product\"]],\n    template: function ProductPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"titlecase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductPageComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.term = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ProductPageComponent_p_4_Template, 2, 0, \"p\", 2);\n        i0.ɵɵtemplate(5, ProductPageComponent_div_5_Template, 3, 4, \"div\", 3);\n        i0.ɵɵtemplate(6, ProductPageComponent_app_modal_6_Template, 2, 0, \"app-modal\", 4);\n        i0.ɵɵpipe(7, \"async\");\n        i0.ɵɵelementStart(8, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function ProductPageComponent_Template_button_click_8_listener() {\n          return ctx.modalService.open();\n        });\n        i0.ɵɵtext(9, \"+\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 5, ctx.title));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.term);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.productsService.products);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 7, ctx.modalService.isVisible$));\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.ModalComponent, i6.CreateProductComponent, i3.AsyncPipe, i3.TitleCasePipe, i7.FilterProductsPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","product_r4","ɵɵtemplate","ProductPageComponent_div_5_app_product_1_Template","ɵɵadvance","ɵɵpipeBind2","ctx_r1","productsService","products","term","ProductPageComponent","constructor","modalService","title","loading","ngOnInit","getAll","subscribe","_","ɵɵdirectiveInject","i1","ProductsService","i2","ModalService","_2","selectors","decls","vars","consts","template","ProductPageComponent_Template","rf","ctx","ɵɵlistener","ProductPageComponent_Template_input_ngModelChange_3_listener","$event","ProductPageComponent_p_4_Template","ProductPageComponent_div_5_Template","ProductPageComponent_app_modal_6_Template","ProductPageComponent_Template_button_click_8_listener","open","ɵɵtextInterpolate","ɵɵpipeBind1","isVisible$"],"sources":["/Users/ivan/Desktop/web/kursach/src/app/pages/product-page/product-page.component.ts","/Users/ivan/Desktop/web/kursach/src/app/pages/product-page/product-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ProductsService} from '../../services/products.service'\nimport {ModalService} from '../../services/modal.service'\n\n@Component({\n  selector: 'app-product-page',\n  templateUrl: './product-page.component.html',\n  styleUrls: ['./product-page.component.scss']\n})\nexport class ProductPageComponent implements OnInit {\n  title = 'angular app'\n  // products: IProduct[] = []\n  loading = false\n  // products$: Observable<IProduct[]>\n  term = ''\n\n  constructor(\n    public productsService: ProductsService,\n    public modalService: ModalService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.loading = true\n    // this.products$ = this.productsService.getAll().pipe(\n    //   tap(() => this.loading = false)\n    // )\n    this.productsService.getAll().subscribe(() => {\n      this.loading = false\n    })\n  }\n}\n","<h1 class=\"font-bold mb-2 text-center text-lg\">{{ title | titlecase }}</h1>\n\n<input\n  type=\"text\"\n  class=\"mb-2 border py-2 px-4 w-full\"\n  placeholder=\"Filter products...\"\n  [(ngModel)]=\"term\"\n>\n\n<p *ngIf=\"loading\" class=\"text-center text-lg\">Loading...</p>\n\n<div *ngIf=\"productsService.products\">\n  <app-product\n    *ngFor=\"let product of productsService.products | filterProducts:term; let i = index\"\n    [product]=\"product\"\n  ></app-product>\n</div>\n\n\n<app-modal *ngIf=\"modalService.isVisible$ | async\" title=\"Create new Product\">\n  <app-create-product></app-create-product>\n</app-modal>\n\n<button\n  class=\"rounded-full bg-red-700 text-white fixed right-5 bottom-5 py-2 px-4\"\n  (click)=\"modalService.open()\"\n>+</button>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}